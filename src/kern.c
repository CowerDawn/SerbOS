#include <stdint.h>
#include <stddef.h>

#define VGA_WIDTH 80
#define VGA_HEIGHT 25

volatile uint16_t* vga_buffer = (uint16_t*)0xB8000;
uint32_t vga_index = 0;
uint8_t terminal_color = 0x0F;

#define PC_SPEAKER_PORT 0x61
#define PIT_PORT 0x42
#define PIT_CMD_PORT 0x43

// функции
void outb(uint16_t port, uint8_t val);
uint8_t inb(uint16_t port);
void play_sound(uint32_t frequency);
void stop_sound();
void beep(uint32_t frequency, uint32_t duration);
void sleep(uint32_t count);

void outb(uint16_t port, uint8_t val) {
    asm volatile ("outb %0, %1" : : "a"(val), "Nd"(port));
}

uint8_t inb(uint16_t port) {
    uint8_t ret;
    asm volatile ("inb %1, %0" : "=a"(ret) : "Nd"(port));
    return ret;
}

void play_sound(uint32_t frequency) {
    if (frequency == 0) {

        outb(PC_SPEAKER_PORT, inb(PC_SPEAKER_PORT) & 0xFC);
        return;
    }

    uint32_t divisor = 1193180 / frequency;
    outb(PIT_CMD_PORT, 0xB6);
    outb(PIT_PORT, (uint8_t)(divisor & 0xFF));
    outb(PIT_PORT, (uint8_t)((divisor >> 8) & 0xFF));

    // спикер
    uint8_t tmp = inb(PC_SPEAKER_PORT);
    if (tmp != (tmp | 3)) {
        outb(PC_SPEAKER_PORT, tmp | 3);
    }
}

void stop_sound() {
    outb(PC_SPEAKER_PORT, inb(PC_SPEAKER_PORT) & 0xFC);
}

void beep(uint32_t frequency, uint32_t duration) {
    play_sound(frequency);
    sleep(duration);
    stop_sound();
}

void clear_screen() {
    for (uint32_t i = 0; i < VGA_WIDTH * VGA_HEIGHT; i++) {
        vga_buffer[i] = (uint16_t)(' ' | (terminal_color << 8));
    }
    vga_index = 0;
}

void putchar(char c) {
    if (c == '\n') {
        vga_index = ((vga_index / VGA_WIDTH) + 1) * VGA_WIDTH;
    } else {
        vga_buffer[vga_index++] = (uint16_t)(c | (terminal_color << 8));
    }
    
    if (vga_index >= VGA_WIDTH * VGA_HEIGHT) {
        for (uint32_t i = 0; i < (VGA_WIDTH * VGA_HEIGHT) - VGA_WIDTH; i++) {
            vga_buffer[i] = vga_buffer[i + VGA_WIDTH];
        }
        for (uint32_t i = (VGA_WIDTH * VGA_HEIGHT) - VGA_WIDTH; i < VGA_WIDTH * VGA_HEIGHT; i++) {
            vga_buffer[i] = (uint16_t)(' ' | (terminal_color << 8));
        }
        vga_index -= VGA_WIDTH;
    }
}

void print_string(const char* str) {
    for (size_t i = 0; str[i] != '\0'; i++) {
        putchar(str[i]);
    }
}

void sleep(uint32_t count) {
    for (volatile uint32_t i = 0; i < count * 100000; i++);
}

// сербовская стронгавская 
const uint32_t notes[] = {
    659, 587, 659, 587, 659, 392, 392, 440, 440, 440, 440, 440, 440,
    247, 247, 247, 196, 196, 247, 196, 294, 294, 294, 311, 277, 311, 329
};

const uint32_t durations[] = {
    200, 100, 100, 100, 200, 200, 200, 200, 200, 200, 200, 200, 200,
    200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 100, 100, 100, 400
};

const char* frames[] = {
    ";:::::::::::;:::;;:::::::;:;;:::::;:::::::::::::::::::::::+X$x+:::::::::::::\n"
    ":::::::::::::::+:::::::;::::::::;;:::::::::::::$;:x+$$$$&++x&&X&&&$X+:::::::\n"
    "::::::::::::::+:+::;::;;;::::::::;;::::;:::::;;X:;&&&&&&&;;$$&$X&&&$+:::::::\n"
    ":::::::::::+:+:x;;+::;;;:::::::::;::;::;::;x;::X&&&&&&&&&$$$&$$$&&$;++++++++\n"
    ";x:x::;x;:;:;;x;::+:;;;;x::;;;:+::;;;;:;:X:x:x&&&&&&&&&X+::::::;;:&+++++xx++\n"
    "+:;xx;::;;:;X:x;x:x;;++;+;;;+;:;::+;+;:;:Xx$xX&&&&&&xX;;:::::::::;Xx;;;+xxx;\n"
    ";;X;;+x;x;:+x;x+XxXxXx+X$&$x;;:;::x;;:x:::X&+XX;&&&X&x+X&::&$Xx;:x$:x;;;+Xxx\n"
    ";;xx;$+x$++;;;+:xx;xX&&&&X$&&+:;+:xX+;;$:&&+$xXx;&&X$$+X&::;+;;:;x+;+;+x+Xx$\n"
    ";X;+X&;;x$&X:&++x$xxx&$&&&::X&+x;+;x;+:;+&&x+xXX:&&$&+$&xxxx:;;;;+:;+X;;X;:x\n"
    "xXX;XX+$$+x&XXx;+:+x&&$&$x&;:+&$+;+X$$;X+&+$$$&+;xX+&&$$&x:::;;;;+++$X;+x+;x\n"
    "&&&X;&&XX&&X&;Xx;&x;+XXX+;;:;;:x+X+x&&:&&X+$X;&&X+X:&&&&&xxx+;::;$++X:XxXX++\n"
    "x$;X:xxx&;X$;;x:xxx+$;&X+;+:;+:xXx+X;XX&X&$x&XXx&&&&&&&&$x+;;;:;:&&&$:;$+$X+\n"
    "+X;+Xx&+x;&+xX:x+X$+X;X&&;;x+++XX;&x+;X;XXx++&&&&&&&&$&X$:;;;x;:;&&&&;+;X+X+\n"
    ";;++x$&$$;$$x+xx:x+Xxx;Xx$XxX&+xxXXx++;++x&+:&X;&&&&&&&&&&X;:+xxx&&&+x;++x::\n"
    "++;xX$X++:;++$XX++x$x;:Xx;$+X&$Xx:++x$+X;x$&X;+x$:&&&&&&&:+x;Xx&&&X+xX&&X;;:\n"
    "::+x+;&:X+$$Xx;$+$xX:;XXx&X++$X$&&&&&&X+;;:x;&;xx&&$$&xx&&x&x&&&&+XX&&Xx&&&&\n"
    "$;x;XX;++;+$X+;X&&&x+;x&:&+;xxx&X&&&&&&$&+X:;$&&&&&&$&&&&:&:;&&&X&XX+$X+&X&x\n"
    "x$:X++$:X;;:;&&&&X+x&$&X&X+:xXx&$&$&xxx&&&&&&&&&Xx&&X+x&$X&&&$&&$xxxx+;$+$&&\n"
    ";;xX;;+X;+x:&&$&&&$:&&&&+&&&$&xxxxXX$x&$&&XXX&&&$$&$Xx$&X$$XXX$XXxxX$&&&&&&$\n"
    "+x:+X:++x;x&&&&&&&&&&&&&+$$&&+&$+x&&$&XxX$$$XX&&&&&&&&&X:x&$XX;:::::;&&&&&&&\n"
    "+;;x;+;+x;&&&&&&&&&+&$&&;:XX;&&&&XX&xx&&&&&x&&&&&&&&&&&xx$&&&&$$$$$X&X&&&&&&\n"
    "+;+X+++:$&&&&&&&&&+$&&&&&&&&&&&&&&&&$&&&X;x&Xx;;;&&&&&&XX&&&&&$$$$$X&$&&$$$$\n"
    "&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\n",

    // 2
    ";:::::::;:::::::;::::::::;:;;;::::;::::::::::::::::::::::;;x&$$$&+::::::::::\n"
    ":::::;:::::::::;:::::::;::::::::;;:::::::::::::X::x;x&&$$&&;+x&$$&&$X:::::::\n"
    "::::::::::::::;:+::;:::;;::::::::;;::::;::::::+x;;&&&&&&&&$x;x$$$$&X;;::::::\n"
    ":::::::::;:+:x:X:;+::;;;:::::::::;::;::;:;;x;:;;$&&&&&&&&&&&&$$$$&++++++++++\n"
    ":+:;::;x::;;:+x;;:+:;;;;x::;;;:+::;;;;:::X:X:+x&&&&&&&&&+;::::::;;Xx++++x+++\n"
    ";:+xx;::;;:+X:x;x;x+;x;;+:;;+;:+::+;+;;;:++$+&&&&&&&&x+x;;:+::+;;:xx+;;++xx;\n"
    ";:$;;xx;x;;x++x+xx$xXx+$$&$x++:;::x;;;+::;x&xXx+&&&&$&$xxx&::$xX+:x;;++++XXx\n"
    ";;x+;$+x&;x;;;+;;x:x$&&&&$X&&x:+;:xXx;:x;&&xXx$+;&&$$x&X+$&:::+;;;;;x;;xxXX$\n"
    ";x;+x&+;+X$X;&;+x&+Xx&$&&&::x&+x;+;X;+:;+&&x+$XX:&&&&&++$&$;:;:+;+:;+X;;x;:x\n"
    "xXX;xX+$&;+&XXx;+;+;&&&&&+&;:;&$;;X+$x:X+&x&X$&++X$:$&x&X&&x+:;;;;++$X++x++x\n"
    "&&&x;&$xX&$x&:X+:&+;+xX$++;:;;:++x;+&&;&&&xXx+&&X+x:X&$&&&&x++;::+X+X:XxXX+x\n"
    "xx;X;+Xx&;X$:+x;xXxx$+&$+:+:;+;xXx+XxxX&$&&+$x$X$&&&&&&&$$$+;;;:;x&&&+;$;Xx;\n"
    "+x++$x$;X;$xxX:X;X$xX;X&$;:x++xXX+&x+;X+XXx;+X&&&&&&&&&&&$&;;+x;:+&&&&:;+;$x\n"
    "+;+++$&$$;$XxXxx:x;X+X+XxXxxx&+xXXxx+;;;+x&x;+&::&&&&&&&&&X;:;xx+&&&&+;;xx::\n"
    "+;:xX$X+;:;++&Xx++x$++:;+;$++&$Xx:+xx$;x;+$$X++;$Xx&$$&x&&;X;xx&&&&++X&&Xx++\n"
    ":;;+x;X:xX$XXx;X+XX$;XX$:X$+;$XX&&&&&&X;;::x:$:+xx&$x&&X$&xxXxX&&+X&x&Xx&&&&\n"
    "X;$:X+;;+;;XXx;x&&&x$X&$xX&+:xx&X&&&&&&$&++::$$&&&&&&x&&&&;x:$$&&&$XX+XX;&X&\n"
    "xX:$;+$;X;;:;&&&&&xxxx&$&:$x:xXx&$&&xxxx&&&&&&&&&+&&&xx$&X&&&$$&&+xxx+xXX;&&\n"
    ";;xX:++x;;x:&&$$$&&;$&&&X&&&$;xx$x$x&x&&$&&XX$&&&$$&&&&&$;$X+&;&x;$XxxxxXXX&\n"
    "+x++x;+++;$&&&&&&&&$&&&&x&&&&&&$++$&&:&XX$$$x$&&&&&&&&&&&+&$x&;&$+x$$+:::::$\n"
    "+;+X;x;x+;&&&&&&&&&&X&&&&X&&&x&&&+X&&XX&&&&&$&&&&&&&&&&&&+&$X&;$&XxX$$$$$$$;\n"
    ";++$+;;:$&&&&&&&&&&X&&&&&&+:X&&&&&&&&X$+;+X&+++;:X&&&&&&&;&$X&;$&$xXX$$$$X&X\n"
    "&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\n",

    // 3
    ";;::::::;:::::::;::::::::;:;:;:;:::::::::::::::::::::::::$$&$$XX$X;:::::::::\n"
    ":::::::::::::::+::::::::;:::::::;;;:::::::::;::+;:::$&&++x&&$$&&&&$$$x:::::::\n"
    ":::::::::::::::;;::;::::;;:::::::;;::::;;::::;++;x&&&&&++Xx&&$$$$&&&$;;;::::\n"
    ":;:::::::::;:;:X:x;:;;;;:::::::::+::;::::;;x::;+&&&&&&&&X$$$$$XXXX&$;+++++++\n"
    ":;+:;::+;;;;:X++;:;;::;;x::;;;:;::+;;;:::;;$:+&&&&&&&&&x;::::::;;;X$X+++x+x+\n"
    ";;$;;;::+++;+;x;+x;+;X:+;:;++;:;::+;+;::::x$$$&&&&&&&X;:;:;:;;;;:;X&$+++;+X;\n"
    ";;&+;$+;+;+x;+;;xx&+$;x&&&$$X;:::;;;;x:;:;;&$xX&;;&&&&x&+:+$x;X;;;x+;+++;x$\n"
    "+;+;xxXXX;X;xx++:X+$$&&&&&;&X$;+:+++x;:+X$&$+$$:;$xX&&&&+:::X;;;;;;:++;;Xx$\n"
    "x++x+X&:X+xXx$;++&Xxx&xXX&::;&$$:;:x;;:;:&&$+$$X:$X&&&&$+:::;xx;;;;;xx++;+;x\n"
    ";&&;xXXX$:x&X&x;;xx;&&X$&:X+::&&;;$:&;;XxXX&+x&xX;xxX&X&&;::;;;;;;++xxx+x;;x\n"
    "$X&x$Xx$x&+;&;X;+$;;x;$x&;:;:+:;$;x:&&+&&&$xxX$&$xx;X&$&&X+Xx:;::;;&&x+;X$+X\n"
    "++x+xx&X$;$x;X++xx;xXX&X&;X:;++xx$;+X+$&X&&+x+&X$&&&&&&&&X+;;;:;+::$&&&+;+x+\n"
    ";xxxX+;X;x$+;;$XXxX++;&&+;+++XX+X&+;;+$X+xxX+X&&&&&&&&&&;;;;$$;::xx&&&++;Xx\n"
    "+;++;$&+&;x;x$+;;+xx+X+$$+$;;&xX++;x;;;;X+&XXxx$X+;&&&&&&&&;;:+xx+X&&&XxX+;+\n"
    ";;++X$+X;+++X$+;x;xx:$;;XxXx:&&XX:++XX+;X;&+Xxx;X++$&&$x&&&XxX++&&&&x;X$&X+;\n"
    ";x;;+;;;+XxXx+:$:x&&;x+$+$$+:XxX&&&&&&$;;:;;++x;x&&&&$$&&$&Xx&;X&&$x&X&Xx&&&\n"
    ";XX;X;x:;+:+$++X&&&&xx++&;&+:xx$x&&&&$$X&$x+&&$&&&&&&&$+$&&Xx;$&&&$&XX+XX:&$\n"
    "X+;X;X++++:xxx&&&&X$xx$&$x&;:XX+&$&&+xxX&&&&&XX&&&;$+&X$x&x&&$+&&&xxxxx$$Xx&\n"
    "x;X;x+:;+;+;$&&$x$&&:&&&&&&&&x+Xx$xx$X&&$$&Xx$&&$$$&&&&&$&;&+&X$$XxXx&;&+&$&\n"
    "$;x;+x;+:;X&&&&&&&&$&&&&&;&&&&X&Xxx&&$X$$&$&$&&&&&&&&&&&x&;&+&x&+&:&:&++&;$$\n"
    "x;x;X;++;;X&&&&&&x&&X&&&&&&&&$&&&$+$&&+$&&$Xx&&&$x&&&&&&X&;&+&+&+&+&$X&x&&x$\n"
    ";;Xx;;+;X+&&&&&&&&&$X&&&&&&+X&&&&&&&&&x;+X&&X++;;:&&&&&&X&;&;&;&+&x$&+&&x&&X\n"
    "&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\n",

    // 4
    "&&&&$$$$X$$XXXXX$$$$$XXXX&$&&&&&&&$&$x&&X+xXxx:::::::::&XXXXX:::::::::::::::\n"
    "&&&&&&&&&$$&&&&&&$$$$$X&&$&&$$&&$&$$$$&&&&&&XxX+::::+:&&Xxxx:::::::::::::::\n"
    "&&&&&&&&&&&&&&&$$$$$X$$$$$$X$X&&&&$$$&$&&&&&&&$X&Xx:::$Xxxx;:::::::::::::::\n"
    "&&&&&$&&&&&&$$$&&$X$X$XX$$$XxXx$&&$$&$$$&&&&&$$$$$$$;:;&XXXXX$+::::::::::::\n"
    "&&&&&&&&&&&&&&&&&XX$$X&XX&&XX$&$$$$$$$$$&&&&&$$$$&$X;::XXX$&$Xxxx::xxX::;;::\n"
    "&&&&&&&&&&&&&&$&&X&$$&&$&&&XX&&$$$&&$$$$&&&&&$$$Xx:::$X:::X:$&x:&:;$X;+Xxxx+\n"
    "&&&&&&&&&&&&&&&&&$&&&&&&&&&&&&&$$&&&&&&&&&&&&&;:::::&x&:+$::;&+XX+:&&$X&XX+$\n"
    "&&&&$&$&&&&$$&&&&&&&&&&&&&&&&&$&&&&&&&$&&&&&&+:::+::x:;&+::&&$X+::+X+&X$&X;x\n"
    "&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$&&&&&+x::;::::::+:&&$::x:::$:&XX$&&&&\n"
    "&&&&&&&$&$&&&$&&&&&&&&$&&&&&&&&&&&&&&&X&&&&&;;;::::::::&&X$::::::X+x&$XX&&&&\n"
    "XXX$$$&&&$&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$$&&X:&:::;::::&x:X$::;:::&X+&&&$$&&&\n"
    "XXXXXXXxXXXX$$&&&&&&&&&&&&&&&&&&&$&&&&&&&X&::&::;::::X:+:&X;;::;;:x&&&&$x&&&\n"
    "$$$$$$$XXXXX$X&&&&&&$&&&&$&&$$&&&&&&$$$$$$X:;&$::::;:x:x;x&X::+X$::&&&Xxx&&&\n"
    "$&&$$$$$$$$$$$$$&&&&&&&&&&&&&&&&&&&XX$$$$X::&&&:::::::::;:$&:X$X:;X$X&&$X&&&\n"
    "&&&&$$$&$$&&&&&&&&&&&&&&$&&&&&&&&&$X$$$$x::;;&&:;:::+$;+:+x&&&&X:x&$$+&x&&$&\n"
    "$$$$&&$$$$$&&&&&$&$$X&&$x&&&&$&$$x:&&$+$:::$&&&$::$X&+$&+&&+&&&&:x+&&:$$&&&&\n"
    "$$$$$$$$$$$$$&X&$&$$X&x&x&&$$$$X$xx+&$$X::::::&&&&:;:;xX+xX$&&;+X+;;x&$$&$X$\n"
    "$$$$$$$$$$$$$$$x&$x+$x$x$&X$$&$$+xX&&&$X:+:;;&&&&X:::++$+$X&x::;;++x&Xx&$&&$\n"
    "$$$$X$$$$$$$$$$XX&x;&;X&XxX+XXx$$:xX$+$X:::x&$&&&X:::&:;;:$:$;;:;;;+;&&&&&&$\n"
    "$$$x$$$$$$$$$&X$x&$+$;XXxXxX$XX:$:&x$&$+:x:+&&&+&&$:;+:+::;+:+X&&&&&x&&&&$&$\n"
    "$&x&&$X$$$X&X$xxxx$$xxXxXXXXxX&Xxx&XX$$X+:+&&&:&&&&+&::+::;+:x&&&&$&X+&$$&&&\n"
    "$&&$$&$$$X$$X&$x$&$+X&$&$xxXX$$x$$X;$;;::XXX&::$&&x;::$XxX;&xXx&x&&&$&+X$$&&\n"
    "&&&&&&&&&$&&&&&&&&&&&&&&&&&&&&&&&&&&$&$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\n",

    // 5
    "&&&&$$$$X$$XXXXX$$$$X$XXX&$&&&&&&&X&$$&&$:$Xx::::::::;+$XX$:::::::::::::::::\n"
    "&&&&&&&&&$$&&&&$$$$$$$x&$&&&$&&&&&$$$&&&&&&$XxX:::::::x$X+xx:::::::::::::::\n"
    "&&&&&&&&$&&&&$$$$$$$X$$$$$$Xx$&&&&$$X&$&&&&&&&X&$+X:::$Xxx:::::::::::::::::\n"
    "&&&&&$&&&&&&$$$&&$X$X$x$$&$XxX+&&&$&&&$$&$&&&$$$$$$:::$XxX$&x:::::::::::::::\n"
    "$&&&&&&&&&&&&&&&&x$$$$&&x&$X$$&$&&&&&$$$&&&&$X$&&;:;::$$$&&&xxx;;::xXx:;+:::\n"
    "&&&&&&&&&&&&&$&$$$&$$&&$&&$X$&&$$&&&&&$$&&&&+;++:::&x;::;&Xx&Xx&XXXX$x+xx++$\n"
    "&&&&&&&&&&&&&&&&&&&&&&&&&&&$&&&$$&&&&&&&&&&&;+:::::&xX$+:x;:$&$x$::x&+$$$+X+&\n"
    "&&&$$&&&&&&$$&&&&&&&&&&&&&&&&$&&&&&&&$&&&&;:::;:::x::&x;+;+&&$&$:+&xX&&&$x:&\n"
    "&&&&&&&&&$&&&$&&&&&&&&&&&&&&&&&&&&&&&$&&&+:;::x::::;::+:x&&&+X:::&:&$$$&&&&&\n"
    "&&&&&&&$&&&&$$&&&&&&&&&&&&&&&&&&&&&&&&&&&:XX:+::::::::&$&X&:+:x:&++&$X&&&&&&\n"
    "XX$$$&&&&$&&&&&&&&&&&&&&&&&&&&&&&&&&&$&$::&::;:+:::::$&xx&::+;:x&Xx&&X&&&&&&\n"
    "XXxXXXXxXXXX$$&$&&&&&&&&&&&&&&&&$&&&&&$$::&x::;:::::&;++&&:;+;+&;XX;&$$&&&&&\n"
    "$$$$$$$X$$$X$$&&&&&&X&&$&$&$&$&&&&&&&$$::$&&::;::;;::$::&&&::xXx++&&&$$&&&&&\n"
    "$&$$$$$$$$&&$$$$&&&&&&&&&&&&&&&&&&$X$X:::&&&$::;:;:X;;::X&&:$&&::+&&&xX&&&&&\n"
    "&&&&&&&&&&&&&&&&&&&&&&&&$&&&&&&&&&XX$:::;;x&+:+::::X+X+x:&&&&&+:$$&&&$&&&$$&\n"
    "&&&&&&&&&&&&&&&&$&&&X$$XX&&&&&$$xXx&X:::;;&&&x:;&+&x$&$&$x&&&&;:X&&&&&X&&&&&\n"
    "$$$$$$$$$$$$$&x&$$$$$$+&+&&$$$$x&+x$$:::::$&&&&X:::;X$xX$&&&&&;+Xx&&+$&X$$$&\n"
    "$$$$$$$$$$$$$$XX$$+XXXX$X&$x&$$X+x$$&:::;xx;x&&;:+:;$&X&$&&&::;x:+;$X&&&$&$$\n"
    "$$X$$$$$$$$$$$$xX&xX$;X$Xxx+XXxX&:x&+::::$x$&&&&+:$x;:XxX&;:xxXX$$$&X&&&&&$$\n"
    "$$XX$$&$$$$$$$X$;&$;XXXxXxx$&X$:&+&+&$:;;+X&&&&&&+$x;Xx;&::+&$xx;+X&&&&&&$$$\n"
    "$&X&&$$$$$$$$$xx+&+&;;&+&:$&+$&xx$&x$$X::x$&&&&&X&$xx+::+:xX:+&&&$X$&X&X&&&&\n"
    "X&&&$$$&$$X$X&$$$&X+XXX&$+X$x$Xx&$x&;:;;$XXX:x&&X&$&&X::;+XXX:&&$&$x&&$$X$&&\n"
    "&&&&&&&&&$&&&&&&&&&&&&&&&&&&&&&&&&&&$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\n",

    //8
    "&&&&&$$$$$$XXXXX$$$$XXXXX&$&&&&&$&X&$&$&&X$x;:+&x&&$$&$:::::::::::::::::::::\n"
    "&&&&&&&&$$$&&&$$$$$$$$X$$&&&X&&&&$X$$&$&&&&&$::::;$$XxXX:::::::::::::::::::\n"
    "&&&&&&$&$&&&&$$$$$$$X$$$$$XxX&&&&$$$$&&$&&&&&;:::X&$Xx+:::::::::::::::::::::\n"
    "&&&&$&&&&&&$&$&&&XX$$$+&$&XXXXX&&$$&$$$$&&&&&$:::&$xxXx$&$;:::::::::::::::::\n"
    "&&&&&&&&&&&&&&&&$x$$x&$&X&&x$&&$$$&&$$$&&&&&&X$;:+$XX$$&&XXXX+;XXxxxX+:;+;;:\n"
    "&&&&&&&&&&&&&$&&$$&&&&&$&&$$&&$&$&&&&&&&&&&&X$::x:&X$&&&+&&&$$$X&+$&&+x++x:X\n"
    "&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$&&&&&&&&&&$;::::+:$+::$:xXx+$$:+X$X&&$$X;+x$\n"
    "&&&$$$&&&$&$&&&&&$&&&&&&&&&&&$&&&&&&&$&&&::::::$&+&::X+:$&$$&+:X:$X$&&&&&X+&\n"
    "&&&&&&&&&$&&&$&&&&&&&&&&&&&&&&&&&&&&&$&&:::::+:::::xX::+$&&;:::x;XX$&&&&&&&&\n"
    "&&&&&&&$&&&&$&&&&&&&&&$&&&&&&&&&&&&&&$&$+::::x:::::::X&$$X:;::++x&&&&&&&&&&&\n"
    "XXXXX$X$&$&&&&&&&&&&&&&&&&&&&&&&&&&&&$&+:&::::::::::$&&xXx:++:$++:$$$$&&&&&&\n"
    "$XXXXXXXXXXXX$&&&&&&&X&$&&&&&&&&$&&&&$&:&;$::+;:::::;+;&$:::++$;x&&$$X&&&&&&\n"
    "$$$$$$$$$$$$$$&&&$&&&&&$&$&$&&&&&&&$$$X:X&$x::X::;:;+x:+&&x:+&+::&&&$X&&&&&&\n"
    "$&$$$$$$$&&&$$$$&&&&&&&&&&&&&&&&&&X$$&X:+&$$;:::::;::+;:++;x&&::x&+&&&&&&&&&\n"
    "&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&xx$X:+$&&&;:::::::X:+x:X&&&&::x&&&+;&&&&&&\n"
    "&&&&&&&&&&&&$&&$$&$$&x&x$&&&$$XX+:&$x::;$$$&&;::;;$$x$&&&&&&&&&:X+&$:&&&&&&&\n"
    "$$$$$$$$$$$$$&x&$$&X$Xx&x&$$$$$x&;x&$:;::x&&&&++X&&;+XX$xX&&x:;;;;;+&X$X$$$$\n"
    "$$$$$$$$$$$$$$$x&$+$Xx$XX&$++x+$X$+&$::::XX$&x&$+;:;:+&$$&+:xxXXX$&&$&$&$&$$\n"
    "$$XX$$$$$$$$$$$XX&;$X;X$$+XxXx$+&:XX$+:;++&$X&&&X;::$:;;+x:xX&x+:;xx&$&&&$$$\n"
    "&&+$&$&$$$$$$$$X;&$++&$xXXx$$$$:&$&+&$::;&&&$&&&&&X;$;++;:+&:+&&&$$X&&&&&&$$\n"
    "$$X&&$$$$$$$$$+$x&x&+X&&$;X$X$$Xx;Xx:XXXXxx&:&&&&&x$X::;+X+&x:&$$$$&X&X$$&&&\n"
    "X&&&&$$$$&&&&&XX&x+;x::x$$x$$XXx&xXX$+xX&Xx$::X&&&&;:;$x$X&&&X&$&&$&&&&&X&&&\n"
    "&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\n",

    // 7
    "::::::::;:::::::;:::::::;::::;:::::::::::::::::::::::::;&&+$&$$$&&&$Xx::::::\n"
    "::::::::::;::::+::::::::::::::::::;:::::::::;:::+::;$&&&&;+x;&$$$$&&&$$;::::\n"
    ":::::::::::::+:;:::x:::::::::::::;:::::;:::::;++X;$&&&&&$&x$&$$$$$&$&&;;::::\n"
    "::::::::::::+:;+;x::;::::::::::::;;::;::;;;x;;;;$&&&&&&&&$X;::::;;::&X++++++\n"
    "::x:x::++;;::X:x;:;x::;;;;:;:;::::+;;;::;:;X;+XX&&&&&&&+::;;:::::::;X$x+x+x+\n"
    ";;X:x;:+;+x;;+x;xx+x++:x;;++:+::::;;++:;::Xx&X&;&&&&&&XX$$::x&X++::;$$++;+$+\n"
    "x+Xx:$++;+x;;;+;xx$;X:X&&&XX$;:::;;;;+:+:;;&$+$&:+X$&X&X+&+:;XX;;::;x+;+;XXx\n"
    "+;;+X;XXX+xxXx++:$$$x&&&&&+&XX;+:x;;+::xXx&&+$X++XXx&$$X&$;::::;;;;;+;;;$x$+\n"
    "&+X;:x&;X;+xXx:;+$x+x&X$&&::+&$X:;;++;;;:&$&+xxx+X+X+&&&$&&;;::;;;;+x;;;:x;;\n"
    ":&&+X+$xxXX&X&;+;X++X&&$&;$x::&&:xX:&xx$x;$&+;&X$:xx++$&X$X+x++;;:;+xxX;x+++\n"
    "x$&XXX+&+&+;&Xx;xX;+x+&X$;:::+:+$:$:&XXX$&&+X$+&Xx:+xxx&&&&x+;;+;:;:$&+;x&+x\n"
    "++x;XX$x$+$+xX++x;;+X$&X&;X;;+X;xX;;x;&&$&XX+x&XX&&&&&&&&&X:::;+++::x&&&;;Xx\n"
    ";:x+;X++x++&++XX$;+$:x;&&+:;++$$;&X;:;;$X;XXX;+xX&&&&&&&&$&&$$x+;::+$&&&+;++\n"
    ";;+;;X&;&;x:XX+;;;x++x;X&+$:+&xX+:;X+:;;X+&$XXxx+xX$&&&&&&&&X;;::Xx$&&&xXX+;\n"
    ";+$;X&+&+X+x$x;xx+xx;X+;X+;&+$&$X;+;++x;X+&:&$x:$:x;&&&xX$&X&xX;xX&&&X+X&&$X\n"
    "++;;+:;;++;&+;:&:x&&++;&x+&$++xX&&&&&&X;::;:x+$$&&&&&&&X&&X&$x$;&&&XX&X&&$&&\n"
    ":$X++xX:;+:+X:xx&&&&+x+x&;&X++xxX&&&$X$x&&$&&&&&&&$+&&&X+$$&XX+&&&&&&$X+&$X&\n"
    "x;Xxx+;+:+:$;x&&&&XXxx$&$$+xX;Xx&$&&+x+$&&&$XXX&&&&X$&&Xxx&$&&XX$&&&&&&&&&&&\n"
    "X;+;$x::x+++X&&&XX&&:&&&&$&$&&&xxXxX$$&&$$&&&$$$&&$&&&&&X&x;;:::;&&&&&&&&&&X\n"
    "$;X;;X;+;;+&&&&&&&&$&&&&&$&&&&&$&xx&&$X&&&&&$X&&&&&&&&&X$&&$X$$&&$&&&&&&&&&&\n"
    ";+x:$:X;;;X&&&&&&&$&&&X&&&x&&&$&&$+$&&$x$&X;X$Xx+;&&&&&&X&&$$$$$&$&&&X&&&&&&\n"
    "+;X++;x+Xx&&&&&&&&&&+&&&&$&&$&&&&&&&&&&+++&&X;+++;&&&&&&X&&$$$$$&$&&&&&&&&&&\n"
    "&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\n",

    // 8 
    "::::::::;:::::::;:::::::;:::;;::::::::::::::::::::::::::+$$$$$$+&$$&X:::::::\n"
    "::::::::::;::::x::::::::::::::::::;:::::::::;:::+:::&&&$$$$$$$x+x&$&&X::::::\n"
    ":::::::::::::;:;:::x:::::;:::::::;:;:::;:::::;x+x;X&$$$$$$$$$$X+X$$$;+;;;:::\n"
    "::::::::::::+:;+;x::;::::::::::::;;::;::;;;x;;:;x$&X&&&&&&&&$$$$x::+X+++++++\n"
    "::x:x::++;;:;x:x:::x::;;+;:+:;::::+;;;:::;;$:+XX$&&&&&&&&$+:::::::;+$+++x+x+\n"
    ";;X:x;:+;+x;;+x++X+x+x:x;;++:+::::+;++:;::XX&+&$&&X&&$&$+;;;;::;Xx;;X+;+;+$+\n"
    "++X+:$++;+x;;;+;xx$;X:X&&&$$$;:;:;;;;x:+:;;&$+$&:X&&&&&X$$;;;&::X++;+;x;;XXX\n"
    "+;;+$;XXX;XxXXxx:$XXX&&&&&;&x&x+:x;;x::x$x&&+$x;+&&&&&$x;;;;+&+:::;+;x;:$x$+\n"
    "&+x+:x&+$;+xXx:;+$x+x&xX$X:::&$$:;:++;;;:&$&+xxX+X$&&&&&x++xx&&x;:;+xx;;:x;+\n"
    ";$&+X+$XxxX&X&;+;X++$&&$&:Xx::&&:xX:&x+$x;$&+;&X$:xX;&&&++XxX++:;::;xxX+x+++\n"
    "x$&XXx+&+&+;&xx;+X;+x;&x&+:::+:;$:$:&XXX$&&+X$;&$x;+;+$&$x&Xx$x++::x&++;X&+x\n"
    "++x;XX$x$;$;x$++x;;+X$&$&:X;;+$;xX;;x;&&$&X$+x&&&&&&&&&$&&&x++:::;X&&&:+x;Xx\n"
    ";:x+;Xx+x;+&++X$$++$:X+$&+;+;;&X;&x+:;;$X+xX$+&&$&&&&&&$&&&&&xxx;X&&&+:x+;;+\n"
    ";;+;;X&;&;+:XXx:;;xx+x;;X;$;;&XX+:+x+;;;X+&$XXx+Xx$&&&&&&&&$;:xxX&&&+$$$$Xx+\n"
    ";+X+X&+&+$+x$x;xX+xx;$;+&Xxx:&&$x++;xx+;$+&:XXX:&;&X$x$&&;+$x;$&&&++X&&&&$&&\n"
    "++;++;;++++&+;:&:x&&+:X$$Xx+:xxX&&&&&&$x:;;:$;XX$&&&&X&&x&+$x:&&&X&&xx$&&$$X\n"
    ":$X++x$:;+:+x:xX&&&&+++x$X&::xxxX&&&XXXx&&;X&&&&&x&&&++&$&X$$&&&&$&$&&&&&&&&\n"
    "x;xXx+;x;+:X+;&&&&+&+&+&$&&;:$X$&$&&;++X&&&XXX&&&;$&&xXxx&$Xxxxxx&&&&&&&&&&$\n"
    "x;x;$X::x;++X&&&$&&$x&&&&X&&&$&+xxXX$$&&$&$$$$&&&&&&&&:&x$&+:::xX&&&&&&&&&&&\n"
    "$;X;;X;+:;+&&&&&&&&$&&&&&X&&&&;&+$X&$$&&&&&x&&&&&&&&&&;&+&&&$$$$$&$&&&x&&&&&\n"
    "++x:$:X+;+X&&&&&&&&&+&$&&x:$x+&&&$$&&:$x$&&$x+;;&&&&&&+&;&&$$$$$$&&&&&$&&&&&\n"
    "+;X+x;x+xx&&&&&&&&&&x&&$&$&&&&&&&&&&&&+;;$&+++;;&&&&&&x&:&&&$$$$$&&$&&$&&&&+\n"
    "&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$&\n"
};

// секунды
const uint32_t frame_times[] = {
    1500, 1500, 
    1500, 1500, 1500, 2000, 2000, 2000 
};

void play_serbia_strong() {
    for (int i = 0; i < sizeof(notes) / sizeof(notes[0]); i++) {
        beep(notes[i], durations[i]);
        sleep(10); 
    }
}

void kernel_main() {
    clear_screen();
    
    while (1) {
        play_serbia_strong();
        
        for (int i = 0; i < sizeof(frames) / sizeof(frames[0]); i++) {
            clear_screen();
            print_string(frames[i]);
            sleep(frame_times[i]);
        }
    }
}
